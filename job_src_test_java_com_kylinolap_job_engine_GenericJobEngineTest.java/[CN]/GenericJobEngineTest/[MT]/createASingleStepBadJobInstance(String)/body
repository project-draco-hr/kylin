{
  CubeInstance cube=CubeManager.getInstance(KylinConfig.getInstanceFromEnv()).getCube(cubeName);
  cube.getSegments().clear();
  CubeManager.getInstance(KylinConfig.getInstanceFromEnv()).updateCube(cube);
  CubeSegment seg=CubeManager.getInstance(KylinConfig.getInstanceFromEnv()).allocateSegments(cube,RealizationBuildTypeEnum.BUILD,0,12345L).get(0);
  JobInstance jobInstance=new JobInstance();
  jobInstance.setUuid(uuid);
  jobInstance.setRelatedCube(cubeName);
  jobInstance.setRelatedSegment(seg.getName());
  jobInstance.setName("A_Bad_Job");
  jobInstance.setType(RealizationBuildTypeEnum.BUILD);
  JobStep step1=new JobStep();
  step1.setName("step1");
  step1.setExecCmd("java -jar /tmp/SampleBadJavaProgram.jarfile");
  step1.setStatus(JobStepStatusEnum.PENDING);
  step1.setSequenceID(0);
  step1.setRunAsync(false);
  step1.setCmdType(JobStepCmdTypeEnum.SHELL_CMD);
  jobInstance.addStep(0,step1);
  return jobInstance;
}
