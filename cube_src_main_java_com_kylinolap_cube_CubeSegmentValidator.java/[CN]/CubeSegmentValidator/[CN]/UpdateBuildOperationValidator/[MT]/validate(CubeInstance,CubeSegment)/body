{
  CubeSegment previousSeg=null;
  if (cubeInstance.getSegments().size() == 0) {
    if (cubeInstance.getDescriptor().getCubePartitionDesc().getPartitionDateStart() != newSegment.getDateRangeStart()) {
      throw new CubeIntegrityException("Invalid start date.");
    }
  }
 else {
    CubeSegment startSegment=newSegment;
    CubeSegment matchSeg=null;
    for (    CubeSegment segment : cubeInstance.getSegments()) {
      if (segment.getDateRangeStart() == startSegment.getDateRangeStart()) {
        matchSeg=segment;
      }
    }
  }
}
