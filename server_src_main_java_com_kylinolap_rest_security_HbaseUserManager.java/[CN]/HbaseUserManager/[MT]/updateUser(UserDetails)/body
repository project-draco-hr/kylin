{
  byte[] userAuthorities=serialize(user.getAuthorities());
  HTableInterface htable=null;
  try {
    htable=HBaseConnection.get(hbaseUrl).getTable(userTableName);
    Put put=new Put(Bytes.toBytes(user.getUsername()));
    put.add(Bytes.toBytes(USER_AUTHORITY_FAMILY),Bytes.toBytes(USER_AUTHORITY_COLUMN),userAuthorities);
    htable.put(put);
    htable.flushCommits();
  }
 catch (  IOException e) {
    logger.error(e.getLocalizedMessage(),e);
  }
 finally {
    IOUtils.closeQuietly(htable);
  }
}
