{
  JobInstance updatedJob=null;
  try {
    updatedJob=getJob(jobInstance.getUuid());
    if (updatedJob == null) {
      saveJob(jobInstance);
      return;
    }
    updatedJob.setExecEndTime(jobInstance.getExecEndTime());
    updatedJob.setExecStartTime(jobInstance.getExecStartTime());
    updatedJob.setDuration(jobInstance.getDuration());
    updatedJob.setMrWaiting(jobInstance.getMrWaiting());
    updatedJob.setRelatedCube(jobInstance.getRelatedCube());
    updatedJob.setRelatedSegment(jobInstance.getRelatedSegment());
    updatedJob.setType(jobInstance.getType());
    updatedJob.clearSteps();
    for (int i=0; i < jobInstance.getSteps().size(); i++) {
      updatedJob.addStep(i,jobInstance.getSteps().get(i));
    }
    saveJob(updatedJob);
  }
 catch (  IOException e) {
    log.error(e.getLocalizedMessage(),e);
    throw e;
  }
}
