{
  providers=Maps.newConcurrentMap();
  final Set<Class<? extends IRealizationProvider>> realizationProviders=new Reflections("com.kylinolap",new SubTypesScanner()).getSubTypesOf(IRealizationProvider.class);
  List<Throwable> es=Lists.newArrayList();
  for (  Class<? extends IRealizationProvider> cls : realizationProviders) {
    try {
      IRealizationProvider p=(IRealizationProvider)cls.getMethod("getInstance",KylinConfig.class).invoke(null,config);
      providers.put(p.getRealizationType(),p);
    }
 catch (    Exception|NoClassDefFoundError e) {
      es.add(e);
    }
    if (es.size() > 0) {
      for (      Throwable exceptionOrError : es) {
        logger.error("Create new store instance failed ",exceptionOrError);
      }
      throw new IllegalArgumentException("Failed to find metadata store by url: " + config.getMetadataUrl());
    }
  }
  logger.info("RealizationRegistry is " + providers);
}
