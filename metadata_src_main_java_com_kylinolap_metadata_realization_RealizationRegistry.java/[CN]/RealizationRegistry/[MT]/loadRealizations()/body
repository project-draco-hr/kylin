{
  if (!realizationsLoaded) {
synchronized (RealizationRegistry.class) {
      if (!realizationsLoaded) {
        List<Throwable> es=Lists.newArrayList();
        List<String> realizationProviders=Lists.newArrayList("com.kylinolap.cube.CubeManager");
        for (        String clsName : realizationProviders) {
          try {
            Class<?> cls=Class.forName(clsName);
            cls.getMethod("getInstance",KylinConfig.class).invoke(null,this.config);
          }
 catch (          Exception|NoClassDefFoundError e) {
            es.add(e);
          }
          if (es.size() > 0) {
            for (            Throwable exceptionOrError : es) {
              logger.error("Create new store instance failed ",exceptionOrError);
            }
            throw new IllegalArgumentException("Failed to find metadata store by url: " + this.config.getMetadataUrl());
          }
        }
        realizationsLoaded=true;
      }
    }
  }
}
