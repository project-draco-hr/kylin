{
  try {
    if (dumpedFile == null || !dumpedFile.exists()) {
      throw new RuntimeException("Dumped file cannot be found at: " + (dumpedFile == null ? "<null>" : dumpedFile.getAbsolutePath()));
    }
    ois=new ObjectInputStream(new FileInputStream(dumpedFile));
    final int count=ois.readInt();
    return new Iterator<Pair<byte[],byte[]>>(){
      int cursorIdx=0;
      @Override public boolean hasNext(){
        return cursorIdx < count;
      }
      @Override public Pair<byte[],byte[]> next(){
        try {
          cursorIdx++;
          byte[] key=(byte[])ois.readObject();
          byte[] value=(byte[])ois.readObject();
          return new Pair<>(key,value);
        }
 catch (        Exception e) {
          throw new RuntimeException("Cannot read AggregationCache from dumped file: " + e.getMessage());
        }
      }
      @Override public void remove(){
        throw new UnsupportedOperationException();
      }
    }
;
  }
 catch (  Exception e) {
    throw new RuntimeException("Failed to read dumped file: " + e.getMessage());
  }
}
