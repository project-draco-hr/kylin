{
  MeasureAggregator[] totalSum=newAggregators();
  for (int i=0; i < totalSum.length; i++) {
    if (totalSum[i] instanceof HLLCAggregator || totalSum[i] instanceof LDCAggregator || totalSum[i] instanceof TopNAggregator)     totalSum[i]=null;
  }
  for (  MeasureAggregator[] entry : aggBufMap.values()) {
    for (int i=0; i < totalSum.length; i++) {
      if (totalSum[i] != null)       totalSum[i].aggregate(entry[i].getState());
    }
  }
  Object[] result=new Object[totalSum.length];
  for (int i=0; i < totalSum.length; i++) {
    if (totalSum[i] != null)     result[i]=totalSum[i].getState();
  }
  return result;
}
