{
  if (server != null) {
    throw new IllegalStateException("Web server is already running.");
  }
  server=new Server(httpPort);
  for (  String contextPath : contexts.keySet()) {
    WebAppContext webapp=new WebAppContext();
    webapp.setContextPath(contextPath);
    webapp.setWar(contexts.get(contextPath));
    webapp.addServlet(DefaultServlet.class,"/*");
    server.setHandler(webapp);
  }
  server.start();
}
