{
  List<RawResource> result=Lists.newArrayList();
  try {
    String commonPrefix=StringUtils.getCommonPrefix(rangeEnd,rangeStart);
    commonPrefix=commonPrefix.substring(0,commonPrefix.lastIndexOf("/") + 1);
    final ArrayList<String> resources=listResourcesImpl(commonPrefix);
    for (    String resource : resources) {
      if (resource.compareTo(rangeStart) >= 0 && resource.compareTo(rangeEnd) <= 0) {
        if (existsImpl(resource)) {
          result.add(getResourceImpl(resource));
        }
      }
    }
    return result;
  }
 catch (  IOException ex) {
    for (    RawResource rawResource : result) {
      IOUtils.closeQuietly(rawResource.inputStream);
    }
    throw ex;
  }
catch (  Exception ex) {
    throw new UnsupportedOperationException(ex);
  }
}
