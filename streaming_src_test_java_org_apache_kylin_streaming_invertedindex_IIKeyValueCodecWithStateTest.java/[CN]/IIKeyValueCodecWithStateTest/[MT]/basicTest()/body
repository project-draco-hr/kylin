{
  ArrayList<IIRow> buffer=Lists.newArrayList();
  TableRecordInfo info=new TableRecordInfo(iiDesc);
  TableRecordInfoDigest digest=info.getDigest();
  int columnCount=digest.getColumnCount();
  KeyValueCodec codec=new IIKeyValueCodecWithState(digest);
  Iterator<Slice> slices=codec.decodeKeyValue(buffer).iterator();
  Assert.assertTrue(!slices.hasNext());
  Assert.assertEquals(iiRowList.size(),digest.getColumnCount());
  for (int i=0; i < digest.getColumnCount(); ++i) {
    buffer.add(iiRowList.get(i));
    if (i != digest.getColumnCount() - 1) {
      Assert.assertTrue(!slices.hasNext());
    }
 else {
      Assert.assertTrue(slices.hasNext());
    }
  }
  Slice newSlice=slices.next();
}
