{
  int port=80;
  if (args.length >= 1) {
    port=Integer.parseInt(args[0]);
  }
  ClasspathUtil.addClasspath(new File("../examples/test_case_data/sandbox").getAbsolutePath());
  String webBase=new File("../webapp/app").getAbsolutePath();
  String apiBase=new File("src/main/webapp").getAbsolutePath();
  Tomcat tomcat=new Tomcat();
  tomcat.setPort(port);
  tomcat.setBaseDir(".");
  StandardServer server=(StandardServer)tomcat.getServer();
  AprLifecycleListener listener=new AprLifecycleListener();
  server.addLifecycleListener(listener);
  tomcat.addWebapp("/kylin",apiBase);
  Context webContext=tomcat.addWebapp("/",webBase);
  ErrorPage notFound=new ErrorPage();
  notFound.setErrorCode(404);
  notFound.setLocation("/index.html");
  webContext.addErrorPage(notFound);
  webContext.addWelcomeFile("index.html");
  tomcat.start();
  tomcat.getServer().await();
}
