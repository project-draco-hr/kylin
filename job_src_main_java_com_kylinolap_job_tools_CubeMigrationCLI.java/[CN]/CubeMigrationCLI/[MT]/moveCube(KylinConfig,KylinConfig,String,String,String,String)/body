{
  srcConfig=srcCfg;
  srcStore=ResourceStore.getStore(srcConfig);
  dstConfig=dstCfg;
  dstStore=ResourceStore.getStore(dstConfig);
  CubeManager cubeManager=CubeManager.getInstance(srcConfig);
  CubeInstance cube=cubeManager.getCube(cubeName);
  logger.info("cube to be moved is : " + cubeName);
  if (cube.getStatus() != CubeStatusEnum.READY)   throw new IllegalStateException("Cannot migrate cube that is not in READY state.");
  checkAndGetHbaseUrl();
  Configuration conf=HBaseConfiguration.create();
  conf.set("hbase.snapshot.master.timeoutMillis","1200000");
  conf.set("hbase.snapshot.region.timeout","1200000");
  conf.set("hbase.snapshot.master.timeout.millis","1200000");
  hbaseAdmin=new HBaseAdmin(conf);
  hdfsFS=FileSystem.get(new Configuration());
  srcCoprocessorPath=DeployCoprocessorCLI.getNewestCoprocessorJar(srcConfig,hdfsFS);
  dstCoprocessorPath=DeployCoprocessorCLI.getNewestCoprocessorJar(dstConfig,hdfsFS);
  operations=new ArrayList<Opt>();
  copyFilesInMetaStore(cube,overwriteIfExists);
  renameFoldersInHdfs(cube);
  renameTablesInHbase(cube);
  addCubeIntoProject(cubeName,projectName);
  if (realExecute.equalsIgnoreCase("true")) {
    doOpts();
  }
 else {
    showOpts();
  }
}
