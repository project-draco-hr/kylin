{
  final TreeMap<Long,CuboidResult> result=new TreeMap<Long,CuboidResult>();
  ICuboidCollector collector=new ICuboidCollector(){
    @Override public void collect(    CuboidResult cuboidResult){
synchronized (result) {
        result.put(cuboidResult.cuboidId,cuboidResult);
      }
    }
  }
;
  build(input,collector);
  return result;
}
