{
  try {
    while (outputCount < outputCuboidExpected) {
      CuboidResult result=nextOutput();
      if (result == null || result.table == null)       break;
      outputCuboid(result.cuboidId,result.table);
      outputCount++;
      result.markOutputDone();
    }
  }
 catch (  Throwable ex) {
    logger.error("output thread exception",ex);
    outputThreadException=ex;
  }
}
