{
  this.expectedSize=expectedSize;
  this.queue=new ArrayBlockingQueue<byte[]>(expectedSize);
  this.timeout=HadoopUtil.getCurrentConfiguration().getInt(HConstants.HBASE_RPC_TIMEOUT_KEY,HConstants.DEFAULT_HBASE_RPC_TIMEOUT);
  this.timeout*=KylinConfig.getInstanceFromEnv().getCubeVisitTimeoutTimes();
  if (BackdoorToggles.getQueryTimeout() != -1) {
    this.timeout=BackdoorToggles.getQueryTimeout();
  }
  this.timeout*=1.1;
  logger.info("Timeout for ExpectedSizeIterator is: " + this.timeout);
  this.timeoutTS=System.currentTimeMillis() + this.timeout;
}
