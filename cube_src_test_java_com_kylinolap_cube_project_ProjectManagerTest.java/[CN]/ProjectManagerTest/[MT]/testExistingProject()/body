{
  int originalProjectCount=ProjectManager.getInstance(this.getTestConfig()).listAllProjects().size();
  int originalCubeCount=CubeManager.getInstance(this.getTestConfig()).listAllCubes().size();
  ResourceStore store=getStore();
  store.deleteResource("/cube/new_cube_in_default.json");
  MetadataManager metaMgr=getMetadataManager();
  CubeDesc desc=metaMgr.getCubeDesc("test_kylin_cube_with_slr_desc");
  CubeInstance createdCube=CubeManager.getInstance(this.getTestConfig()).createCube("new_cube_in_default",ProjectInstance.DEFAULT_PROJECT_NAME,desc,null);
  assertTrue(createdCube == CubeManager.getInstance(this.getTestConfig()).getCube("new_cube_in_default"));
  System.out.println(JsonUtil.writeValueAsIndentString(createdCube));
  assertTrue(ProjectManager.getInstance(this.getTestConfig()).listAllProjects().size() == originalProjectCount);
  assertTrue(CubeManager.getInstance(this.getTestConfig()).listAllCubes().size() == originalCubeCount + 1);
  CubeInstance droppedCube=CubeManager.getInstance(this.getTestConfig()).dropCube("new_cube_in_default");
  assertTrue(createdCube == droppedCube);
  assertNull(CubeManager.getInstance(this.getTestConfig()).getCube("new_cube_in_default"));
  assertTrue(ProjectManager.getInstance(this.getTestConfig()).listAllProjects().size() == originalProjectCount);
  assertTrue(CubeManager.getInstance(this.getTestConfig()).listAllCubes().size() == originalCubeCount);
}
