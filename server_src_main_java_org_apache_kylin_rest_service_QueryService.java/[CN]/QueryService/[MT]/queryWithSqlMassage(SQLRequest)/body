{
  SQLResponse fakeResponse=QueryUtil.tableauIntercept(sqlRequest.getSql());
  if (null != fakeResponse) {
    logger.debug("Return fake response, is exception? " + fakeResponse.getIsException());
    return fakeResponse;
  }
  String correctedSql=QueryUtil.massageSql(sqlRequest);
  if (correctedSql.equals(sqlRequest.getSql()) == false)   logger.debug("The corrected query: " + correctedSql);
  Map<String,String> parameters=new HashMap<String,String>();
  parameters.put(OLAPContext.PRM_ACCEPT_PARTIAL_RESULT,String.valueOf(sqlRequest.isAcceptPartial()));
  OLAPContext.setParameters(parameters);
  try {
    BackdoorToggles.setToggles(sqlRequest.getBackdoorToggles());
    return execute(correctedSql,sqlRequest);
  }
  finally {
    BackdoorToggles.cleanToggles();
  }
}
