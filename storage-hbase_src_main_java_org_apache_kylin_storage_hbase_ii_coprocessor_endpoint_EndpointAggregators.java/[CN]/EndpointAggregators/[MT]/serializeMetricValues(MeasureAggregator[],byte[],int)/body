{
  for (int i=0; i < funcNames.length; i++) {
    metricValues[i]=aggrs[i].getState();
  }
  int metricBytesOffset=offset;
  int length=0;
  for (int i=0; i < measureSerializers.length; i++) {
    measureSerializers[i].write(metricValues[i],buffer,metricBytesOffset);
    metricBytesOffset+=measureSerializers[i].getLength();
    length+=measureSerializers[i].getLength();
  }
  return length;
}
