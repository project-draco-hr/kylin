{
  RowProjector projector=new RowProjector(mask);
  RowAggregators aggregators=new RowAggregators(new HCol[]{});
  RowFilter filter=RowFilter.deserialize(null);
  HashSet<String> expectedResult=new HashSet<String>();
  expectedResult.add("\\x02\\x02\\x00\\x00");
  expectedResult.add("\\x01\\x01\\x00\\x00");
  MockupRegionScanner innerScanner=new MockupRegionScanner(cellsInput);
  RegionScanner aggrScanner=new AggregationFilter(null,filter,projector,aggregators,innerScanner);
  ArrayList<Cell> result=Lists.newArrayList();
  boolean hasMore=true;
  while (hasMore) {
    result.clear();
    hasMore=aggrScanner.next(result);
    if (result.isEmpty())     continue;
    Cell cell=result.get(0);
    String rowKey=Bytes.toStringBinary(cell.getRowArray(),cell.getRowOffset(),cell.getRowLength());
    assertTrue(expectedResult.contains(rowKey));
  }
  aggrScanner.close();
}
