{
  ResourceStore store=getStore();
  logger.debug("Loading IIInstance " + store.getReadableResourcePath(path));
  IIInstance ii=null;
  try {
    ii=store.getResource(path,IIInstance.class,II_SERIALIZER);
    ii.setConfig(config);
    if (StringUtils.isBlank(ii.getName()))     throw new IllegalStateException("IIInstance name must not be blank");
    iiMap.putLocal(ii.getName(),ii);
    for (    IISegment segment : ii.getSegments()) {
      usedStorageLocation.put(ii.getName().toUpperCase(),segment.getStorageLocationIdentifier());
    }
    return ii;
  }
 catch (  Exception e) {
    logger.error("Error during load ii instance " + path,e);
    return null;
  }
}
