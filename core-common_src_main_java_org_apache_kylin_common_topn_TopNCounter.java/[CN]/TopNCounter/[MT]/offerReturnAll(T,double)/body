{
  ListNode2<Counter<T>> counterNode=counterMap.get(item);
  boolean isNewItem=(counterNode == null);
  T droppedItem=null;
  if (isNewItem) {
    if (size() < capacity) {
      counterNode=counterList.enqueue(new Counter<T>(item));
    }
 else {
      counterNode=counterList.tail();
      Counter<T> counter=counterNode.getValue();
      droppedItem=counter.item;
      counterMap.remove(droppedItem);
      counter.item=item;
      counter.count=0.0;
    }
    counterMap.put(item,counterNode);
  }
  incrementCounter(counterNode,incrementCount);
  return Pair.newPair(isNewItem,droppedItem);
}
