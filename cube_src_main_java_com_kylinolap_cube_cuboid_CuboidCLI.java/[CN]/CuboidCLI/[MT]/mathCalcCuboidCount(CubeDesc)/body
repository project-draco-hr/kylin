{
  int result=1;
  RowKeyDesc rowkey=cube.getRowkey();
  AggrGroupMask[] aggrGroupMasks=rowkey.getAggrGroupMasks();
  for (int i=0; i < aggrGroupMasks.length; i++) {
    boolean hasTail=i < aggrGroupMasks.length - 1 || rowkey.getTailMask() > 0;
    result+=mathCalcCuboidCount_aggrGroup(rowkey,aggrGroupMasks[i],hasTail);
  }
  return result;
}
