{
  TopNCounter<String> vs=new TopNCounter<String>(3);
  String[] stream={"X","X","Y","Z","A","B","C","X","X","A","C","A","A"};
  for (  String i : stream) {
    vs.offer(i);
  }
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  ObjectOutput oo=new ObjectOutputStream(baos);
  oo.writeObject(vs);
  oo.close();
  ObjectInput oi=new ObjectInputStream(new ByteArrayInputStream(baos.toByteArray()));
  TopNCounter<String> clone=(TopNCounter<String>)oi.readObject();
  assertEquals(vs.toString(),clone.toString());
}
