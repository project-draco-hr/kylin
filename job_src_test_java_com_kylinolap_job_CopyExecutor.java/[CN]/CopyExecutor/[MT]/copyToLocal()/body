{
  String[] cmd=new String[3];
  String osName=System.getProperty("os.name");
  if (osName.startsWith("Windows")) {
    cmd[0]="cmd";
    cmd[1]="/C";
  }
 else {
    cmd[0]="/bin/bash";
    cmd[1]="-c";
  }
  cmd[2]=" cp " + localFile + " "+ destDir;
  ProcessBuilder builder=new ProcessBuilder(cmd);
  builder.redirectErrorStream(true);
  Process proc=builder.start();
  BufferedReader reader=new BufferedReader(new InputStreamReader(proc.getInputStream()));
  String line=null;
  while ((line=reader.readLine()) != null) {
    this.cliOutputConsumer.consume(line);
  }
  try {
    exitCode=proc.waitFor();
  }
 catch (  InterruptedException e) {
    throw new IOException(e);
  }
 finally {
    reader.close();
  }
}
