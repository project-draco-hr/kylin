{
  providers=Maps.newConcurrentMap();
  try {
    IRealizationProvider p=(IRealizationProvider)Class.forName("org.apache.kylin.cube.CubeManager").getMethod("getInstance",KylinConfig.class).invoke(null,config);
    providers.put(p.getRealizationType(),p);
  }
 catch (  Exception|NoClassDefFoundError e) {
    logEx(e);
  }
  try {
    IRealizationProvider p=(IRealizationProvider)Class.forName("org.apache.kylin.storage.hybrid.HybridManager").getMethod("getInstance",KylinConfig.class).invoke(null,config);
    providers.put(p.getRealizationType(),p);
  }
 catch (  Exception|NoClassDefFoundError e) {
    logEx(e);
  }
  try {
    IRealizationProvider p=(IRealizationProvider)Class.forName("org.apache.kylin.invertedindex.IIManager").getMethod("getInstance",KylinConfig.class).invoke(null,config);
    providers.put(p.getRealizationType(),p);
  }
 catch (  Exception|NoClassDefFoundError e) {
    logEx(e);
  }
  if (providers.isEmpty())   throw new IllegalArgumentException("Failed to find realization provider by url: " + config.getMetadataUrl());
  logger.info("RealizationRegistry is " + providers);
}
