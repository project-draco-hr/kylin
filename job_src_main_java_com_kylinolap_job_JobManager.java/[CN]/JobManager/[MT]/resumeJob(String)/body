{
  JobInstance jobInstance=jobDAO.getJob(uuid);
  log.info("Resuming job " + uuid);
  if (jobInstance.getStatus() != JobStatusEnum.ERROR) {
    throw new RuntimeException("Can't resume job with status " + jobInstance.getStatus().toString());
  }
  for (  JobStep jobStep : jobInstance.getSteps()) {
    if (jobStep.getStatus() == JobStepStatusEnum.ERROR) {
      jobStep.setStatus(JobStepStatusEnum.PENDING);
      jobStep.clearInfo();
      jobDAO.saveJobOutput(jobStep,"");
    }
  }
  jobDAO.updateJobInstance(jobInstance);
}
