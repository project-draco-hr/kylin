{
  Map<String,String> result=Maps.newHashMap();
  if (joins.isEmpty()) {
    TableRef tableRef=model.findFirstTable(firstTable.getOlapTable().getTableName());
    if (tableRef == null)     return null;
    result.put(firstTable.getAlias(),tableRef.getAlias());
    return result;
  }
  Map<String,List<JoinDesc>> modelJoinsMap=model.getJoinsMap();
  for (  JoinDesc queryJoin : joins) {
    String fkTable=queryJoin.getForeignKeyColumns()[0].getTable();
    List<JoinDesc> modelJoins=modelJoinsMap.get(fkTable);
    if (modelJoins == null)     return null;
    JoinDesc matchJoin=null;
    for (    JoinDesc modelJoin : modelJoins) {
      if (modelJoin.matches(queryJoin)) {
        matchJoin=modelJoin;
        break;
      }
    }
    if (matchJoin == null)     return null;
    matchesAdd(queryJoin.getForeignKeyColumns()[0].getTableAlias(),matchJoin.getForeignKeyColumns()[0].getTableAlias(),result);
    matchesAdd(queryJoin.getPrimaryKeyColumns()[0].getTableAlias(),matchJoin.getPrimaryKeyColumns()[0].getTableAlias(),result);
  }
  return result;
}
