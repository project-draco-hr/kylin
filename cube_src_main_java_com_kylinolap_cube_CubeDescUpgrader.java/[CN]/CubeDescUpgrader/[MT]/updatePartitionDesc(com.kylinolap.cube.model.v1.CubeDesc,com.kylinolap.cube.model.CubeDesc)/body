{
  com.kylinolap.cube.model.v1.CubePartitionDesc partition=oldModel.getCubePartitionDesc();
  com.kylinolap.cube.model.CubePartitionDesc newPartition=new com.kylinolap.cube.model.CubePartitionDesc();
  newModel.setCubePartitionDesc(newPartition);
  if (partition.getPartitionDateColumn() != null) {
    String partitionCol=partition.getPartitionDateColumn();
    String[] tablecolumn=partitionCol.split("\\.");
    if (tablecolumn != null && tablecolumn.length == 2) {
      String tableFullName=getMetadataManager().appendDBName(tablecolumn[0]);
      newPartition.setPartitionDateColumn(tableFullName + "." + tablecolumn[1]);
    }
 else {
      if (partitionCol.indexOf(".") < 0) {
        partitionCol=newModel.getFactTable() + "." + partitionCol;
      }
      newPartition.setPartitionDateColumn(partitionCol);
    }
  }
  if (partition.getCubePartitionType() == com.kylinolap.cube.model.v1.CubePartitionDesc.CubePartitionType.APPEND) {
    newPartition.setCubePartitionType(com.kylinolap.cube.model.CubePartitionDesc.CubePartitionType.APPEND);
  }
  if (partition.getCubePartitionType() == CubePartitionDesc.CubePartitionType.UPDATE_INSERT) {
    newPartition.setCubePartitionType(com.kylinolap.cube.model.CubePartitionDesc.CubePartitionType.UPDATE_INSERT);
  }
  newPartition.setPartitionDateStart(partition.getPartitionDateStart());
}
