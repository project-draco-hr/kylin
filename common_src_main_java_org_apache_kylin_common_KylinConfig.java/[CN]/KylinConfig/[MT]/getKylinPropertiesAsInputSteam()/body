{
  String kylinHome=System.getenv(KYLIN_HOME);
  if (StringUtils.isEmpty(kylinHome)) {
    logger.error("KYLIN_HOME has not been set");
    throw new RuntimeException("KYLIN_HOME has not been set");
  }
  String path=kylinHome + "/conf";
  File propFile=getKylinPropertiesFile(path);
  if (propFile == null || !propFile.exists()) {
    logger.error("fail to locate kylin.properties");
    throw new RuntimeException("fail to locate kylin.properties");
  }
  try {
    return new FileInputStream(propFile);
  }
 catch (  FileNotFoundException e) {
    logger.error("this should not happen");
    throw new RuntimeException(e);
  }
}
