{
  File propFile=getKylinPropertiesFile();
  if (propFile == null || !propFile.exists()) {
    logger.error("fail to locate " + KYLIN_CONF_PROPERTIES_FILE);
    throw new RuntimeException("fail to locate " + KYLIN_CONF_PROPERTIES_FILE);
  }
  Properties conf=new Properties();
  try {
    FileInputStream is=new FileInputStream(propFile);
    conf.load(is);
    IOUtils.closeQuietly(is);
    File propOverrideFile=new File(propFile.getParentFile(),propFile.getName() + ".override");
    if (propOverrideFile.exists()) {
      FileInputStream ois=new FileInputStream(propOverrideFile);
      Properties propOverride=new Properties();
      propOverride.load(ois);
      IOUtils.closeQuietly(ois);
      conf.putAll(propOverride);
    }
    File accountPropFile=getKylinAccountPropertiesFile();
    if (accountPropFile.exists()) {
      FileInputStream ois=new FileInputStream(accountPropFile);
      Properties propAccount=new Properties();
      propAccount.load(ois);
      IOUtils.closeQuietly(ois);
      conf.putAll(propAccount);
    }
    File accountPropOverrideFile=new File(accountPropFile.getParentFile(),accountPropFile.getName() + ".override");
    if (accountPropOverrideFile.exists()) {
      FileInputStream ois=new FileInputStream(accountPropOverrideFile);
      Properties propAccountOverride=new Properties();
      propAccountOverride.load(ois);
      IOUtils.closeQuietly(ois);
      conf.putAll(propAccountOverride);
    }
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
  return conf;
}
