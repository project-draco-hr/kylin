{
  CubeInstance cube=cubeService.getCubeManager().getCube(cubeName);
  CubeDesc cubeDesc=cube.getDescriptor();
  CubeSegment cubeSegment=cube.getSegment(segmentName,SegmentStatusEnum.READY);
  CubeJoinedFlatTableDesc flatTableDesc=new CubeJoinedFlatTableDesc(cubeDesc,cubeSegment);
  String sql=JoinedFlatTable.generateSelectDataStatement(flatTableDesc);
  GeneralResponse repsonse=new GeneralResponse();
  repsonse.setProperty("sql",sql);
  return repsonse;
}
