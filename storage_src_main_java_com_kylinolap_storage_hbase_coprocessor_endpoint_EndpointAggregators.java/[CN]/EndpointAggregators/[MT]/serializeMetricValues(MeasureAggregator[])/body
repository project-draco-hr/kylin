{
  for (int i=0; i < funcNames.length; i++) {
    metricValues[i]=aggrs[i].getState();
  }
  int metricBytesOffset=0;
  for (int i=0; i < measureSerializers.length; i++) {
    measureSerializers[i].write(metricValues[i],metricBytes.get(),metricBytesOffset);
    metricBytesOffset+=measureSerializers[i].getLength();
  }
  return metricBytes.get();
}
