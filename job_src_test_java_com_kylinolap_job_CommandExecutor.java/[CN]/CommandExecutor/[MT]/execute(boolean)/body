{
  if (remoteHost == null) {
    if (wait) {
      runNativeCommand();
    }
 else {
      new Thread(new Runnable(){
        @Override public void run(){
          try {
            runNativeCommand();
          }
 catch (          IOException e) {
            e.printStackTrace();
          }
        }
      }
).start();
    }
  }
 else {
    if (wait) {
      runRemoteCommand();
    }
 else {
      new Thread(new Runnable(){
        @Override public void run(){
          try {
            runRemoteCommand();
          }
 catch (          IOException e) {
            e.printStackTrace();
          }
        }
      }
).start();
    }
  }
  return exitCode;
}
