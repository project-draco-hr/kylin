{
  List<String> paths=listResourceStore(ResourceStore.TABLE_EXD_RESOURCE_ROOT);
  for (  String path : paths) {
    Map<String,String> attrs=Maps.newHashMap();
    InputStream is=null;
    try {
      is=store.getResource(path);
      if (is == null) {
        continue;
      }
      try {
        attrs.putAll(JsonUtil.readValue(is,HashMap.class));
      }
  finally {
        if (is != null)         is.close();
      }
    }
 catch (    IOException e) {
      e.printStackTrace();
      errorMsgs.add("Upgrade TableDescExd at '" + path + "' failed: "+ e.getLocalizedMessage());
    }
    String file=path;
    if (file.indexOf("/") > -1) {
      file=file.substring(file.lastIndexOf("/") + 1);
    }
    String tableIdentity=file.substring(0,file.length() - MetadataConstances.FILE_SURFIX.length()).toUpperCase();
    if (tableIdentity.indexOf(".") < 0) {
      tableIdentity=appendDBName(tableIdentity);
      try {
        getMetadataManager().saveTableExd(tableIdentity,attrs);
        getStore().deleteResource(path);
        updatedResources.add(path);
      }
 catch (      IOException e) {
        e.printStackTrace();
        errorMsgs.add("Upgrade TableDescExd at '" + path + "' failed: "+ e.getLocalizedMessage());
      }
    }
  }
}
