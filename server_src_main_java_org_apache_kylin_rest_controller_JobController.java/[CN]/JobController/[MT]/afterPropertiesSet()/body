{
  String timeZone=jobService.getKylinConfig().getTimeZone();
  TimeZone tzone=TimeZone.getTimeZone(timeZone);
  TimeZone.setDefault(tzone);
  final KylinConfig kylinConfig=KylinConfig.getInstanceFromEnv();
  String serverMode=kylinConfig.getServerMode();
  if (Constant.SERVER_MODE_JOB.equals(serverMode.toLowerCase()) || Constant.SERVER_MODE_ALL.equals(serverMode.toLowerCase())) {
    logger.info("Initializing Job Engine ....");
    new Thread(new Runnable(){
      @Override public void run(){
        try {
          DefaultScheduler scheduler=DefaultScheduler.getInstance();
          scheduler.init(new JobEngineConfig(kylinConfig));
          while (!scheduler.hasStarted()) {
            logger.error("scheduler has not been started");
            Thread.sleep(1000);
          }
        }
 catch (        Exception e) {
          throw new RuntimeException(e);
        }
      }
    }
).start();
  }
}
